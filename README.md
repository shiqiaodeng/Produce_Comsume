# Produce_Comsume

## 1. 方案设计如下图：
![image](https://github.com/shiqiaodeng/Produce_Comsume/blob/master/images/Design_scheme.jpg)

**Spark** 产生的任务有两种类型A、B，随机的。对于两种类型的任务分别设计两种生产者-消费者模型框架。两种框架结构相似，但是数据结构不一样。    
**框架1：**  
多个生产者-多个消费者模型:  
**(1) 将任务A 作为生产者，创建生产者多线程对任务A进行并行处理;**  
**(2) 构建共享空间存数据;  
(3) 创建消费者多线程消费共享空间数据;   
(4) 将消费者线程结果返回，存储到结果空间A;   
(5) 生产数据-消费数据采用有两种模式：流处理（生产一个、消费一个）、批处理（生产一批、消费一批)**

**框架2同框架1**  

## 2. 算法实现：
### 1. 判断Spark 任务类型
	•   由Spark 发出一个判断标志Type_Task；
	•   在多线程框架编写任务类型判断函数bool Func_Type_Task（para1, para2, ... , paran）,需要熟悉Spark 工作原理；
### 2.  处理Spark 任务
	•  通过1判断Spark 任务，对于A任务使用框架1处理；对于B任务使用框架2处理；

### 3. 框架1实现

  ### 3.1 创建生产者线程
  
  ### 3.2 创建消费者线程 
  
  ### 3.3 建立共享空间
  
  ### 3.4 存储结果
  
  
